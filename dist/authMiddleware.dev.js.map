{"version":3,"sources":["authMiddleware.js"],"names":["jwt","require","authMiddleware","req","res","next","token","cookies","status","json","message","verified","verify","process","env","JWT_SECRET","user","error","module","exports"],"mappings":";;AAAA,IAAMA,GAAG,GAAGC,OAAO,CAAC,cAAD,CAAnB;;AAEA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACvC,MAAMC,KAAK,GAAGH,GAAG,CAACI,OAAJ,CAAYD,KAA1B;;AACA,MAAI,CAACA,KAAL,EAAY;AACR,WAAOF,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB,CAAP;AACH;;AAED,MAAI;AACA,QAAMC,QAAQ,GAAGX,GAAG,CAACY,MAAJ,CAAWN,KAAX,EAAkBO,OAAO,CAACC,GAAR,CAAYC,UAA9B,CAAjB;AACAZ,IAAAA,GAAG,CAACa,IAAJ,GAAWL,QAAX;AACAN,IAAAA,IAAI;AACP,GAJD,CAIE,OAAOY,KAAP,EAAc;AACZb,IAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB;AACH;AACJ,CAbD;;AAeAQ,MAAM,CAACC,OAAP,GAAiBjB,cAAjB","sourcesContent":["const jwt = require('jsonwebtoken');\r\n\r\nconst authMiddleware = (req, res, next) => {\r\n    const token = req.cookies.token;\r\n    if (!token) {\r\n        return res.status(401).json({ message: 'Access denied, token missing' });\r\n    }\r\n\r\n    try {\r\n        const verified = jwt.verify(token, process.env.JWT_SECRET);\r\n        req.user = verified;\r\n        next();\r\n    } catch (error) {\r\n        res.status(400).json({ message: 'Invalid token' });\r\n    }\r\n};\r\n\r\nmodule.exports = authMiddleware;"],"file":"authMiddleware.dev.js"}